<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · PackageCompiler</title><meta name="title" content="Home · PackageCompiler"/><meta property="og:title" content="Home · PackageCompiler"/><meta property="twitter:title" content="Home · PackageCompiler"/><meta name="description" content="Documentation for PackageCompiler."/><meta property="og:description" content="Documentation for PackageCompiler."/><meta property="twitter:description" content="Documentation for PackageCompiler."/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="index.html">PackageCompiler</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href="index.html">Home</a><ul class="internal"><li><a class="tocitem" href="#Installation-instructions"><span>Installation instructions</span></a></li><li><a class="tocitem" href="#Upgrading-from-PackageCompiler-1.0."><span>Upgrading from PackageCompiler 1.0.</span></a></li></ul></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="sysimages.html">Sysimages</a></li><li><a class="tocitem" href="apps.html">Apps</a></li><li><a class="tocitem" href="libs.html">Libraries</a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="examples/ohmyrepl.html">Creating a sysimage with OhMyREPL</a></li><li><a class="tocitem" href="examples/plots.html">Creating a sysimage for fast plotting with Plots.jl</a></li></ul></li><li><a class="tocitem" href="refs.html">References</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href="index.html">Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="index.html">Home</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaLang/PackageCompiler.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaLang/PackageCompiler.jl/blob/master/docs/src/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="PackageCompiler"><a class="docs-heading-anchor" href="#PackageCompiler">PackageCompiler</a><a id="PackageCompiler-1"></a><a class="docs-heading-anchor-permalink" href="#PackageCompiler" title="Permalink"></a></h1><p>Julia is, in general, a &quot;just-barely-ahead-of-time&quot; compiled language. When you call a function for the first time, Julia compiles it for precisely the types of the arguments given. This can take some time. All subsequent calls within that same session use this fast compiled function, but if you restart Julia you lose all the compiled work. PackageCompiler allows you to do this work upfront — further ahead of time — and store the results for a lower latency startup.</p><p>There are three main workflows:</p><ol><li><p>You can save loaded packages and compiled functions into a file (called a <a href="sysimages.html#sysimages">sysimage</a>) that you pass to <code>julia</code> upon startup. Typically the goal is to reduce latency on your machine; for example, you could load the packages and compile the functions used in <a href="examples/plots.html#examples-plots">common plotting workflows</a> use that saved image by default. In general, sysimages are not relocatable to other machines; they&#39;ll only work on the machine they were created on.</p></li><li><p>You can further compile an entire project into a <a href="apps.html#apps">relocatable &quot;app&quot;</a>. This generates a bundle of files (including the executable) that can be sent and run on other machines that might not even have Julia installed. Not only does this aim to do as much compilation up-front, but it also bundles together all dependencies (including potentially cross-platform binary libraries) and Julia itself with a single executable as its entry point.</p></li><li><p>Alternatively, you can create a <a href="libs.html#libraries">C library</a>. In this case, your package should define C-callable functions to be included in the sysimage. As with apps, generating a library bundles together Julia and all dependencies in a (hopefully) redistributable directory structure that can be moved to other machines (of the same architecture).</p></li></ol><p>The most challenging part in all cases is in determining <em>which</em> methods need to be compiled ahead of time. For example, your project will certainly require addition between integers (<code>+(::Int, ::Int)</code>; thankfully that&#39;s already compiled into Julia itself), but does it require addition of dates (like <code>+(::Date, ::Day)</code> or <code>+(::DateTime, ::Hour)</code>)? What about high-precision complex numbers (<code>+(::Complex{BigFloat}, ::Complex{BigFloat})</code>)? It&#39;s completely intractable to compile all possible combinations, so instead PackageCompiler relies upon <a href="sysimages.html#tracing">&quot;tracing&quot; an exemplar session</a> and recording which methods were used. Any methods that were missed will still be compiled as they are needed (by default).</p><p>Note that to use PackageCompiler.jl effectively some knowledge on how packages and <a href="https://julialang.github.io/Pkg.jl/v1/environments/">&quot;environments&quot;</a> work is required. If you are just starting with Julia, it is unlikely that you would want to use PackageCompiler.jl</p><hr/><p>The manual contains some uses of Linux commands like <code>ls</code> (<code>dir</code> in Windows) and <code>cat</code> but hopefully these commands are common enough that the points still come across.</p><h2 id="Installation-instructions"><a class="docs-heading-anchor" href="#Installation-instructions">Installation instructions</a><a id="Installation-instructions-1"></a><a class="docs-heading-anchor-permalink" href="#Installation-instructions" title="Permalink"></a></h2><p>The package is installed using the standard way with the package manager:</p><pre><code class="language-julia hljs">using Pkg
Pkg.add(&quot;PackageCompiler&quot;)</code></pre><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>It is strongly recommended to use the official binaries that are downloaded from  https://julialang.org/downloads/. Distribution-provided Julia installations are unlikely to work properly with this package.</p></div></div><p>To use PackageCompiler a C-compiler needs to be available:</p><h3 id="macOS,-Linux"><a class="docs-heading-anchor" href="#macOS,-Linux">macOS, Linux</a><a id="macOS,-Linux-1"></a><a class="docs-heading-anchor-permalink" href="#macOS,-Linux" title="Permalink"></a></h3><p>Having a decently modern <code>gcc</code> or <code>clang</code> available should be enough to use PackageCompiler on Linux or macOS. For macOS, this can be the built-in Xcode command line tools or <code>homebrew</code> and for Linux, using the system package manager to get a compiler should work fine.</p><h3 id="Windows"><a class="docs-heading-anchor" href="#Windows">Windows</a><a id="Windows-1"></a><a class="docs-heading-anchor-permalink" href="#Windows" title="Permalink"></a></h3><p>A suitable compiler will be automatically installed the first time it is needed.</p><h2 id="Upgrading-from-PackageCompiler-1.0."><a class="docs-heading-anchor" href="#Upgrading-from-PackageCompiler-1.0.">Upgrading from PackageCompiler 1.0.</a><a id="Upgrading-from-PackageCompiler-1.0.-1"></a><a class="docs-heading-anchor-permalink" href="#Upgrading-from-PackageCompiler-1.0." title="Permalink"></a></h2><p>PackageCompiler 2.0 comes with a few breaking changes.</p><ul><li>The functionality for replacing the default sysimage (<code>replace_default=true</code>) has been removed. Instead, you can e.g. create an alias or shortcut that starts Julia with a custom sysimage by specifying the <code>--sysimage=&lt;PATH/TO/SYSIMAGE&gt;</code> command line option.</li><li>Lazy artifacts (those not downloaded until used) are not included in apps by default anymore. Use <code>include_lazy_artifacts=true</code> to re-enable this.</li><li>Passing no packages to <code>create_sysimage</code> will now include all packages in the given project instead of a sysimage with no packages. Use <code>String[]</code> as a first argument if you want the old behavior.</li><li>The <code>audit_app</code> function has been removed. It caught too few problems to be useful in practice.</li><li>The keyword <code>app_name</code> in <code>create_app</code> has been removed and replaced with a more flexible version. If you used <code>app_name=&quot;Foo&quot;</code>, replace it with <code>executables=[&quot;Foo&quot;=&gt;&quot;julia_main&quot;]</code>.</li><li>The <code>@ccallable</code> in front of the entry point functions of apps should be removed. Failure to do so might lead to strange errors during creation of the app.</li></ul></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="sysimages.html">Sysimages »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.5.0 on <span class="colophon-date" title="Wednesday 26 June 2024 11:16">Wednesday 26 June 2024</span>. Using Julia version 1.10.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
